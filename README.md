# üï∏ HTTP message PSR-7 implementation.

Kaspi/http-message —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è PSR-7 –¥–ª—è >= PHP 8.1

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```shell
composer require kaspi/http-message
```

## –¢–µ—Å—Ç—ã
–ü—Ä–æ–≥–Ω–∞—Ç—å —Ç–µ—Å—Ç—ã –±–µ–∑ –æ—Ç—á—ë—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞ –≤ html
```shell
composer test
```
–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ –æ—Ç—á—ë—Ç–æ–º –≤ html —Ñ–æ—Ä–º–∞—Ç–µ
```shell
./vendor/bin/pest --compact
```
_‚õë p–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –≤ –ø–∞–ø–∫–µ `.coverage-html`_

## –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

–î–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–∞–∫–µ—Ç [Phan](https://github.com/phan/phan).

–ó–∞–ø—É—Å–∫ –±–µ–∑ PHP —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è [PHP AST](https://github.com/nikic/php-ast)

```shell
./vendor/bin/phan --allow-polyfill-parser
```

## Code style
–î–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è –∫–æ–¥–∞ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∏—Å–ø–æ–ª—å–∑—É–µ–º php-cs-fixer –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä—è–≤–ª–µ–Ω
–≤ dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ composer-–∞

```shell
composer fixer
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker –æ–±—Ä–∞–∑–∞ —Å PHP 8.1, 8.2, 8.3

–£–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞–∑ —Å –≤–µ—Ä—Å–∏–µ–π PHP –º–æ–∂–Ω–æ –≤ —Ñ–∞–π–ª–µ `.env` –≤ –∫–ª—é—á–µ `PHP_IMAGE`.
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Å –æ–±—Ä–∞–∑–æ–º `php:8.1-cli-alpine`.

–°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```shell
docker-compose build
```
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ php composer-–∞:
```shell
docker-compose run --rm php composer install
```
–ü—Ä–æ–≥–Ω–∞—Ç—å —Ç–µ—Å—Ç—ã —Å –æ—Ç—á–µ—Ç–æ–º –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞ –∏ –æ—Ç—á—ë—Ç–æ–º –≤ html —Ñ–æ—Ä–º–∞—Ç–µ
```shell
docker-compose run --rm php vendor/bin/pest --compact
```
‚õë p–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –≤ –ø–∞–ø–∫–µ `.coverage-html`

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ Phan (_static analyzer for PHP_)

```shell
docker-compose run --rm php vendor/bin/phan
```

–ú–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ shell –æ–±–æ–ª–æ—á–∫–µ –≤ docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:
```shell
docker-compose run --rm php sh
```
##### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Makefile –∫–æ–º–∞–Ω–¥.
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å code style:
```shell
make fix
```
–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–æ–¥–∞:
```shell
make stat
```
–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã:
```shell
make test
```
–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å—Ç–∞–¥–∏–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫:
```shell
make all
```
